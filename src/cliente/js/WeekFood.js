var vistas={error:vista_Error,portada:vista_Portada,productos:vista_Productos};function cargarVista(a){cargarVistaAPunto(a,".l-distribucion__principal")}function cargarVistaAPunto(a,e){vistas.hasOwnProperty(a)?"string"==typeof e?(desplegarPanelCarga(),$.when(vistas[a](e)).then(eliminarPanelCarga)):console.error("Error intentando cargar "+a+" : El punto de montaje no es valido."):cargarVistaAPunto("error",e)}function montarMenu(a,e){return $.getJSON(a).then(a=>{var o="";return a.data.forEach(a=>{o+="<li class='c-menu__item",$(".js-menu").hasClass("c-menu--oculto")&&(o+=" c-menu__item--oculto"),a.direccion==e&&(o+=" c-menu__item--destacado"),o+="' onclick='cargarVista(\""+a.direccion+"\")'>"+a.valor+"</li>"}),$(".js-menu__lista").html(o),!0})}function desplegarPanelCarga(){}function eliminarPanelCarga(){}function generarCarrusel(a){let e="";$.getJSON("/api/carrusel",o=>{if(0==o.error){let r=o.data;e+='<div class="c-carrusel">',r.forEach(a=>{e+=`<img class="c-carrusel__imagen" src="imagenes/productos/${a.foto}">`}),e+="</div>",$(a).html(e),$(".c-carrusel").slick({infinite:!0,slidesToShow:3,autoplay:!0,autoplaySpeed:0,speed:2500,cssEase:"linear",arrows:!1,swipe:!1,touchMove:!1,pauseOnHover:!1,pauseOnFocus:!1})}})}function vista_Error(a){var e=["Vaya, un callejón sin salida.","Si no miras no está.","Página no encontrada.","No podemos ayudarte.","¡Croquetas! una página que no existe.","Parece ser que te has perdido.","Tranquil@, sólo es un 404."],o=["Ni siquiera en nuestro ámplio catálogo hemos podido encontrar lo que buscabas.","(Esto es toooodo WeekFood)(Aqui estás tú)<br><br>Perdona por las molestias.","¡Sorpresa! Esto no es un easter egg...<br>Pero puedes volver a WeekFood y seguir buscandolo.","Oh no, has llegado a la trastienda. Porfavor regresa a WeekFood.","Somos incapaces de encontrar lo que buscabas.","Perdona las molestias.","Woops","Uy, necesitas una mano?<br>Pista: Regresa a WeekFood.","Algun diseñador con hambre se ha debido de comer la página que buscabas..."],r="<div class='c-principal'><div class='c-principal__texto'><h1>Error 404</h1><h2>";return r+=e[Math.floor(Math.random()*e.length)]+"<hr>"+o[Math.floor(Math.random()*o.length)],r+="</h2><div class='c-principal__error-enlace' onclick=cargarVista('portada')>Volver a WeekFood</div></div>",$(a).html(r),montarMenu("/api/menu/portada","error")}function vista_Portada(a){return $.getScript("js/componentes/carrusel.js"),$(a).html("<div class='c-principal'><div class='js-carrusel'></div><div class='c-principal__texto'><h1>¡Bienvenido a <span class='c-logo__parte'>Week</span><span class='c-logo__parte c-logo__parte--alterna'>Food</span>!</h1>Somos una empresa ficticia, ofrecemos gran variedad de platos preparados para entrega en el hogar, el trabajo, o la escuela.<br>Con <span class='c-logo__parte'>Week</span><span class='c-logo__parte c-logo__parte--alterna'>Food</span> nunca mas tendrás que preocuparte de que vas a comer hoy.</div></div>"),montarMenu("/api/menu/portada","portada"),$.when($.getScript("libs/slick-1.8.1/slick.min.js")).then(()=>{generarCarrusel(".js-carrusel")})}function vista_Productos(a){montarMenu("/api/menu/portada","productos");var e="";return $.when($.getJSON("/api/productos").then(a=>{a.data.forEach(a=>{e+="<div class='c-principal c-producto",1==a.destacado&&(e+=" c-producto--destacado'> <img class='c-producto__imagen-destacado' src='imagenes/estrella.png"),e+="'><img class='c-producto__imagen' src='/imagenes/productos/"+a.foto+"'>",e+="<p class='c-producto__titulo'>"+a.nombre.charAt(0).toUpperCase()+a.nombre.slice(1)+"</p></div>"})})).then(()=>{$(a).html(e)})}$(".js-menu").on("webkitAnimationEnd oanimationEnd msAnimationEnd animationend",()=>{if($(".js-menu").hasClass("c-menu--oculto"))for(var a=0;a<$(".js-menu__lista")[0].childElementCount;a++)$($(".js-menu__lista").children()[a]).addClass("c-menu__item--oculto").removeClass("c-menu__item--descubrir")}),$(".js-boton-menu").on("click",()=>{if($(".js-menu").removeClass("c-menu--descubrir"),$(".js-menu").hasClass("c-menu--oculto")){$(".js-menu").removeClass("c-menu--oculto c-menu--ocultar").addClass("c-menu--descubrir"),x=0;var a=setInterval(()=>{x<$(".js-menu__lista")[0].childElementCount?($($(".js-menu__lista").children()[x]).removeClass("c-menu__item--oculto").addClass("c-menu__item--descubrir"),x++):clearInterval(a)},175)}else $(".js-menu").addClass("c-menu--ocultar c-menu--oculto")}),cargarVista("portada");